args: {
	// Specify password for the root user
	postgresPassword: "toor"
}

containers: {
	postgresql: {
		image:  "postgres:14.5-bullseye"
		ports: {
			internal: [
               //prometheus monitoring
				"9187:9187"
			]
			expose: "5432:5432"
		}
		env: {
			"POSTGRES_PASSWORD": "secret://root-credentials/password"
		}
	}
}

secrets: {
	"root-credentials": {
		type: "basic"
		data: {
			password: "\(args.postgresPassword)"
		}

	}
}